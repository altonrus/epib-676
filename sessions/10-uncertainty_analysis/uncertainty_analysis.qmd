---
title: "Uncertainty analysis"
subtitle: "EPIB  676 session 10, McGill University"
author: "Alton Russell"
date: "2 Feb 2023"
format: revealjs
editor: visual
---

## Today

## Packages

```{r}
#| echo: true
library(heemod) #health economic markov models
library(expm) #for raising matrices to exponents with %^%
library(tidyr) #for spread function for wide-to-long table formating
library(ggplot2) #plotting

#use install.packages("Package") for any you don't have already

theme_set(theme_bw()) #set ggplot theme
```

## Today

-   **Univariate and scenario analysis**

-   Probabilistic sensitivity analysis

## Decision-analytic model

-   Function mapping inputs (data, parameters) into estimated outcomes for two or more alternatives
-   Propagate uncertainty
    -   Uncertain inputs â†’ uncertain outputs

![](model-inputs-outputs.svg)

## 1st and 2nd order uncertainty

-   **First order** **(stochastic) uncertainty:** variation between statistically identical patients

-   **Second order (parameter) uncertainty:** uncertainty in a population parameter

In a cohort model first order uncertainty is ignored; everyone in cohort is modeled as the "average" person

In microsimulation, both first and second order uncertainty are modeled

## 1st and second order uncertainty in Bayesian terms

![](sampling_dists_posterior_statisticalRethinking.png)

## One-way sensitivity analysis

## R example

## Tornado diagram

## Scenario analysis

## Today

-   **Univariate and scenario analysis**

-   Probabilistic sensitivity analysis

## Distributions for data-free parameters

## Picking a distribution

## Fitting a distribution

## Bootstrapping

## What parameters to vary

**Uncertain parameters** should all be varies in PSA

**Design parameters** like discount rate, time horizon can be varied in scenario analysis

## Credible intervals

## Notes

-   Model function maping inputs to outputs. Parametric uncertainty analysis is just changing inputs

-   How model is structured has implications for uncertainty analysis

    -   Using multipliers rather than absolute probabilities can let you enforce certain relationships

-   Dirichlet distribution

## Recap

## Logistics

-   
